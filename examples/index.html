<!doctype html><html><head><script src="/exposed.js"></script><script src="/jquery.js"></script><script src="/socket.io/socket.io.js"></script><script>$(function() {var util = require('util')  , Maga = require('maga')  , Circles = require('circles')  , config = require('config')var socket = new io.Socket(config.host)var game = new Maga.Game({      frameTime    : 1000 / 45    , loopTime     : 1000 / 135    , maxFrameTime : 1000 / 45    , syncTime     : 1000 / 15    })  , channel = game.createChannel()  , protocol = new Maga.Protocol(game, channel)  , myId  , me  , players = {}socket.on('connect', function() {  myId = parseInt(socket.transport.sessionid, 10).toString(32)  me = new Circles.Player(myId).create()  players[myId] = me  channel.addObject(me)  $('body').mousemove(function(ev) {    me.move(ev.pageX, ev.pageY)  })  /*  $('body').click(function() {    game.set('frameTime', Math.max(game.get('frameTime') + (Math.random() * 300 - 260), 1000 / 30))  })  */    channel.loop()  var str  setInterval(function() {    str = protocol.stringify(myId)    if (str && str.length) socket.send(str)  }, game.syncTime)})socket.on('message', function(message) {  //console.log(message)  var state = protocol.parse(message)  for (var frame in state) {    for (var id in state[frame]) {      if (id == myId) {        delete state[frame][id]        continue      } else if (id == 'disconnectId') {        console.log('DISCONNECTED', state[frame].disconnectId)        channel.removeObject(state[frame].disconnectId)      } else if (!players.hasOwnProperty(id)) {        console.log('CREATING PLAYER ' + id)        players[id] = new Circles.Player(id).create()        channel.addObject(players[id])      }    }  }  protocol.applyState(myId, state)})socket.on('disconnect', function() {})socket.connect()})</script><style>html, body {width:100%;height:100%;overflow:hidden;background:#070707;}.circle {position:absolute;width:20px;height:20px;margin-left:-10px;margin-top:-10px;border-radius:10px;}</style></head><body></body></html>